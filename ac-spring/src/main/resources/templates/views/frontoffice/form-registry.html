<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="views/fragments/css-scripts :: css"></head>
<body>

	<div th:replace="views/fragments/elements :: alert"></div>
	
	<main>
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-lg-5">
					<div class="card shadow-lg border-0 rounded-lg mt-5">
						<div class="card-header">
							<h3 class="text-center font-weight-light my-4">Registro de usuario</h3>
						</div>
						<div class="card-body">
						
							<form th:action="@{/ac-spring/new_user}" th:object="${user}" method="post" class="mt-3">
							
								<div class="form-floating mb-3">
									<label class="mb-1" for="username">Nombre de usuario</label>
									
									<!-- Etiqueta que emplea Bootstrap para mostrar mensajes en pequeño encima de un
						 			 	 campo. Se usará para indicar si el nombre de usuario está o no disponible.
									<small id="nombreHelp" class="form-text"></small> -->
									
									<div class="input-group">
										<input th:field="*{username}"
											   type="text"
											   id="username"
										 	   class="form-control py-4"
										 	   th:errorclass="is-invalid"
											   placeholder="Introduce tu nombre de usuario" />
										
										<div class="input-group-append">
											<div class="input-group-text">
												<span class="fas fa-user"></span>
											</div>
										</div>
									</div>
									<small th:if="${#fields.hasErrors('username')}"
										   th:errors="*{username}"
										   class="form-text text-danger"></small>
								</div>
								
								<div class="form-floating mb-3">
									<label class="mb-1" for="password">Contraseña</label>
									
									<div class="input-group">
										<input th:field="*{password}"
											   type="password"
											   id="password"
											   class="form-control py-4"
											   th:errorclass="is-invalid"
											   placeholder="Introduce tu contraseña" />
										
										<div class="input-group-append">
											<div class="input-group-text">
												<span class="fas fa-lock"></span>
											</div>
										</div>
									</div>
									<small th:if="${#fields.hasErrors('password')}"
										   th:errors="*{password}"
										   class="form-text text-danger"></small>
									<!-- Ver UserDto para más información de esta etiqueta. -->
									<small th:if="${#fields.hasErrors('global')}" 
										   th:errors="global" 
										   class="form-text text-danger"></small>
								</div>
								
								<div class="form-floating mb-3">
									<label class="mb-1" for="confirm">Confirmar contraseña</label>
									
									<div class="input-group">
										<input th:field="*{confirmPassword}"
											   type="password"
											   id="confirm"
											   class="form-control py-4"
											   th:errorclass="is-invalid"
											   placeholder="Confirma la contraseña">
										
										<div class="input-group-append">
											<div class="input-group-text">
												<span class="fas fa-lock"></span>
											</div>
										</div>
									</div>
									<small th:if="${#fields.hasErrors('confirmPassword')}"
										   th:errors="*{confirmPassword}" 
										   class="form-text text-danger"></small>
									<small th:if="${#fields.hasErrors('global')}"
										   th:errors="global" 
										   class="form-text text-danger"></small>
								</div>
								
								<div class="form-floating d-flex align-items-center justify-content-end py-4">
									<button class="btn border-secondary text-secondary mr-3" type="button" onClick="window.parent.location='index'">Ir a la web</button>
									<button class="btn btn-primary" type="submit">Registro</button>
								</div>
								
							</form>
						</div>
						
						<div class="card-footer text-right">
							<a th:href="@{/ac-spring/login}">Inicia sesión si tienes una cuenta</a>
						</div>
						
					</div>
				</div>
			</div>
		</div>
	</main>
	<div th:replace="views/fragments/css-scripts :: scripts"></div>
</body>
</html>