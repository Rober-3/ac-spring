<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<div th:if="${user}" th:fragment="form-user">

	<form th:action="@{/ac-spring/backoffice/save_user}"
		  th:object="${user}"
		  method="post"
		  enctype="multipart/form-data"
		  class="user">
		
		<div class="row justify-content-center">
	
			<div class="form-group col-sm-4 p-0 text-center">
				<div class="border bg-light">
					<img th:if="${#strings.length(user.photo) > 0}"
						 class="card-img"
						 th:src="@{'/uploads/users/' + ${user.photo}}"
						 th:alt="'Foto de ' + ${user.username}" />
				</div>
				<div>
					<input type="file" name="file" class="form-control form-control-sm mt-3" />
				</div>
			</div>
	
			<div class="form-group col-sm-4">
				<div>
					<label for="username">Nombre de usuario *</label>
					<input th:field="*{username}"
						   type="text"
						   id="username"
						   class="form-control form-control-sm"
						   th:errorclass="is-invalid"
						   placeholder="Introduce tu nombre de usuario"
						   autofocus />
					<small th:if="${#fields.hasErrors('username')}"
						   th:errors="*{username}"
						   class="form-text text-danger"></small>
				</div>
				<div>
					<label for="email" class="mt-3">Correo electrónico</label>
					<input th:field="*{email}"
						   type="text" id="email"
						   class="form-control form-control-sm"
						   placeholder="Introduce tu correo electronico" />
					<small th:if="${#fields.hasErrors('email')}"
						   th:errors="*{email}"
						   class="form-text text-danger"></small>
				</div>
				<div>
					<label for="password" class="mt-3">Contraseña *</label>
					<input th:field="*{password}"
						   type="text"
						   id="email"
						   class="form-control form-control-sm"
						   th:errorclass="is-invalid"
						   placeholder="Introduce tu correo electronico" />
					<small th:if="${#fields.hasErrors('password')}"
						   th:errors="*{password}"
						   class="form-text text-danger"></small>
				</div>
			</div>
			
		</div>
		<div class="row justify-content-center mt-3">
			<div th:replace="views/fragments/elements :: form-buttons"></div>
		</div>
	</form>
</div>
</html>
